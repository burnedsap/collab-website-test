<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UESCAN - Upper East Side Collective Action Network</title>
    <style>
        :root {
            --pastel-pink: #F8E8E8;
            --pastel-blue: #E8F0F8;
            --pastel-green: #E8F8E8;
            --uescan-green: #00933c;
            --uescan-orange:#EB6800;
            --uescan-yellow: #F6BC26;
            --text-dark: #2D3748;
            --text-light: #4A5568;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: linear-gradient(135deg, var(--pastel-pink) 0%, var(--pastel-blue) 50%, var(--pastel-green) 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            color: var(--text-dark);
            text-decoration: none;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: var(--text-light);
            text-decoration: none;
            transition: color 0.3s;
        }

        nav a:hover {
            color: var(--text-dark);
        }

        /* Main Content */
        main {
            min-height: calc(100vh - 200px);
            padding: 2rem 0;
        }

        .content-area {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .loading {
            text-align: center;
            padding: 3rem;
            color: var(--text-light);
        }

        .error {
            background: #FEE;
            color: #C53030;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .last-updated {
            background: rgba(255, 255, 255, 0.6);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            color: var(--text-light);
            text-align: center;
            margin-bottom: 2rem;
        }

        /* Notion Content Styles */
        .notion-content h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
            border-bottom: 3px solid var(--pastel-blue);
            padding-bottom: 0.5rem;
        }

        .notion-content h2 {
            font-size: 2rem;
            margin: 2rem 0 1rem 0;
            color: var(--text-dark);
        }

        .notion-content h3 {
            font-size: 1.5rem;
            margin: 1.5rem 0 0.5rem 0;
            color: var(--text-light);
        }

        .notion-content p {
            margin-bottom: 1rem;
            line-height: 1.7;
        }

        .notion-content ul, .notion-content ol {
            margin: 1rem 0 1rem 2rem;
        }

        .notion-content li {
            margin-bottom: 0.5rem;
        }

        .notion-content a {
            color: #3182CE;
            text-decoration: none;
        }

        .notion-content a:hover {
            text-decoration: underline;
        }

        .notion-content blockquote {
            border-left: 4px solid var(--pastel-green);
            padding-left: 1rem;
            margin: 1rem 0;
            font-style: italic;
            background: rgba(255, 255, 255, 0.5);
            padding: 1rem;
            border-radius: 8px;
        }

        /* Footer */
        footer {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding: 2rem 0;
            margin-top: 3rem;
        }

        .footer-content {
            text-align: center;
            color: var(--text-light);
        }

        .footer-content p {
            margin-bottom: 0.5rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            nav ul {
                gap: 1rem;
            }

            .logo {
                font-size: 1.5rem;
            }

            .content-area {
                padding: 1rem;
                margin: 1rem 0;
            }
        }

        /* Animations */
        .fade-in {
            opacity: 0;
            animation: fadeIn 0.5s ease-in forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">UESCAN</a>
                <nav>
                    <!-- <ul>
                        <li><a href="#resources">Resources</a></li>
                        <li><a href="#events">Events</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul> -->
                </nav>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="content-area">
                <div id="last-updated" class="last-updated" style="display: none;">
                    <!-- Last updated timestamp will appear here -->
                </div>
                
                <div id="content-loading" class="loading">
                    <p>Loading community content...</p>
                </div>
                
                <div id="content-error" class="error" style="display: none;">
                    <p>Unable to load community content. Please check back later.</p>
                </div>
                
                <div id="notion-content" class="notion-content" style="display: none;">
                    <!-- Content will be loaded here -->
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p><strong>UESCAN</strong> - Upper East Side Collective Action Network</p>
                <p>Building community through mutual support</p>
                <p>Content updated daily from our community editors</p>
            </div>
        </div>
    </footer>

    <script>
        // Load static content generated by GitHub Actions
        async function loadContent() {
            const loadingEl = document.getElementById('content-loading');
            const errorEl = document.getElementById('content-error');
            const contentEl = document.getElementById('notion-content');
            const lastUpdatedEl = document.getElementById('last-updated');

            try {
                loadingEl.style.display = 'block';
                errorEl.style.display = 'none';
                contentEl.style.display = 'none';

                // Try to load the content generated by GitHub Actions
                const response = await fetch('./content/notion-content.json');
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                
                // Display last updated time
                if (data.lastUpdated) {
                    const updateTime = new Date(data.lastUpdated).toLocaleString();
                    lastUpdatedEl.textContent = `Last updated: ${updateTime}`;
                    lastUpdatedEl.style.display = 'block';
                }
                
                // Insert content
                contentEl.innerHTML = data.content || generateFallbackContent();
                
                // Show content with animation
                loadingEl.style.display = 'none';
                contentEl.style.display = 'block';
                contentEl.classList.add('fade-in');

                console.log('Content loaded successfully');

            } catch (error) {
                console.error('Failed to load content:', error);
                loadingEl.style.display = 'none';
                
                // Try to load fallback content or show error
                try {
                    contentEl.innerHTML = generateFallbackContent();
                    contentEl.style.display = 'block';
                } catch (fallbackError) {
                    errorEl.style.display = 'block';
                }
            }
        }

        function generateFallbackContent() {
            return `
                <h1>UESCAN - Upper East Side Collective Action Network</h1>
                <p>Building community through mutual support</p>
                
                <h2>About Our Network</h2>
                <p>UESCAN is a community-driven mutual aid network serving the East Side. We connect neighbors to share resources, support each other, and build a more resilient community together.</p>
                
                <h2>How We Help</h2>
                <ul>
                    <li><strong>Food Security:</strong> Community gardens, food pantries, and meal sharing programs</li>
                    <li><strong>Housing Support:</strong> Tenant rights education, housing advocacy, and temporary assistance</li>
                    <li><strong>Community Building:</strong> Neighborhood events, skill shares, and organizing support</li>
                    <li><strong>Resource Sharing:</strong> Tool libraries, clothing swaps, and mutual aid networks</li>
                </ul>
                
                <h2>Get Involved</h2>
                <p>Whether you need support or want to help others, there's a place for you in UESCAN. Community members collaborate to keep our resources up to date and responsive to neighborhood needs.</p>
                
                <blockquote>
                    <p>"Mutual aid is not charity. It's solidarity." - Our content is maintained by community volunteers working together.</p>
                </blockquote>
                
                <p><em>Note: Our content is automatically updated daily from community editors. If you're seeing this message, the latest content may still be processing.</em></p>
            `;
        }

        // Smooth scrolling for navigation
        document.addEventListener('DOMContentLoaded', function() {
            // Load content on page load
            loadContent();

            // Add smooth scrolling to navigation links
            document.querySelectorAll('nav a[href^="#"]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').slice(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>
